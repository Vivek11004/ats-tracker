"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}document.addEventListener("DOMContentLoaded",function(){var m="http://127.0.0.1:8000",p=null,e=document.getElementById("uploadBtn"),t=document.getElementById("pasteBtn"),n=document.getElementById("resumeFile"),r=document.getElementById("resumeText"),f=document.getElementById("jobDescription"),a=document.getElementById("loader"),y=document.getElementById("parsedOutput"),h=document.getElementById("analysisOutput"),o=document.querySelectorAll(".tab-btn"),c=document.querySelectorAll(".tab-content");function i(t,n){var r,a,o,c,i,s,u,l,d;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),y.innerHTML="",h.innerHTML="",p=null,e.prev=4,e.next=7,regeneratorRuntime.awrap(fetch(n,{method:"POST",body:t}));case 7:if((r=e.sent).ok){e.next=16;break}return e.t0=Error,e.t1="Parsing failed: ",e.next=13,regeneratorRuntime.awrap(r.text());case 13:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 16:return e.next=18,regeneratorRuntime.awrap(r.json());case 18:return g(p=e.sent),a=f.value.trim(),o={resume_data:p,job_description:a||""},e.next=24,regeneratorRuntime.awrap(Promise.all([fetch("".concat(m,"/score"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),fetch("".concat(m,"/match"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})]));case 24:return c=e.sent,i=_slicedToArray(c,2),s=i[0],u=i[1],e.next=30,regeneratorRuntime.awrap(s.json());case 30:return l=e.sent,e.next=33,regeneratorRuntime.awrap(u.json());case 33:d=e.sent,v(l,d),e.next=41;break;case 37:e.prev=37,e.t4=e.catch(4),console.error(e.t4),y.innerHTML='<p style="color: red;">Error: '.concat(e.t4.message,"</p>");case 41:return b(!(e.prev=41)),e.finish(41);case 44:case"end":return e.stop()}},null,null,[[4,37,41,44]])}function g(e){var t="<h3>".concat(e.name,"</h3>");t+="<p><strong>Email:</strong> ".concat(e.email,"</p>"),t+="<p><strong>Phone:</strong> ".concat(e.phone,"</p>"),t+="<h4>Skills</h4><ul>".concat(e.skills.map(function(e){return"<li>".concat(e,"</li>")}).join(""),"</ul>"),y.innerHTML=t}function v(e,t){var n="<h3>ATS Score: ".concat(e.score,"/100</h3>");n+="<ul>".concat(e.feedback.map(function(e){return"<li>".concat(e,"</li>")}).join(""),"</ul>"),n+="<hr><h3>Job Match Analysis</h3>",n+="<p><strong>Semantic Similarity:</strong> ".concat(t.similarity_score,"%</p>"),n+="<h4>Matched Keywords:</h4><p>".concat(t.matched_keywords.join(", ")||"None","</p>"),n+="<h4>Missing Keywords:</h4><p>".concat(t.missing_keywords.join(", ")||"None","</p>"),h.innerHTML=n}function b(e){a.style.display=e?"block":"none"}o.forEach(function(e){e.addEventListener("click",function(){o.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active"),c.forEach(function(e){return e.classList.remove("active")}),document.getElementById(e.dataset.tab).classList.add("active")})}),e.addEventListener("click",function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.files.length){e.next=3;break}return alert("Please select a file first."),e.abrupt("return");case 3:return(t=new FormData).append("file",n.files[0]),e.next=7,regeneratorRuntime.awrap(i(t,"".concat(m,"/parse/file")));case 7:case"end":return e.stop()}})}),t.addEventListener("click",function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.value.trim()){e.next=3;break}return alert("Please paste some text first."),e.abrupt("return");case 3:return(t=new FormData).append("text",r.value),e.next=7,regeneratorRuntime.awrap(i(t,"".concat(m,"/parse/text")));case 7:case"end":return e.stop()}})})});
//# sourceMappingURL=app.min.js.map
